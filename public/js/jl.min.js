!function(){"use strict";function t(){var t=location.hash;"#more"===t&&i.toggleSlash(),(""===t||"#home"===t)&&i.reset()}var e=document.getElementById("project-ribbon"),n=document.getElementById("body-img");if(!e)return!1;var i={toggleSlash:function(){e.classList.toggle("slash"),n.classList.add("dim")},reset:function(){e.classList.remove("slash"),n.classList.remove("dim")}};window.addEventListener("hashchange",t,!1),t()}(),function(){"use strict";function t(){var t=location.hash;"#player"===t&&n.open(),(""===t||"#home"===t)&&n.close()}var e=document.getElementById("music-player-modal");document.getElementById("body-img");if(e){var n={open:function(){e.classList.toggle("activate")},close:function(){e.classList.remove("activate")}};window.addEventListener("hashchange",t,!1),t()}}(),function(){"use strict";function t(e){i||(i=e);var s=e-i,o=s/864e5,c=n+o;a.innerText=c,window.requestAnimationFrame(t)}function e(){var e=864e5,i=new Date(1989,4,1),a=new Date;n=Math.abs((i.getTime()-a.getTime())/e),window.requestAnimationFrame(t)}var n,i=null,a=document.getElementById("age-in-days");a&&e()}(),function(){function t(t){var e=[].slice.call(document.querySelectorAll(".instaA.active")),n=this,i=0;e.forEach(function(t){t!==n&&(t.className="instaA",i++)});var a,s=this.getBoundingClientRect().left-g;a=v>s||0===i?-115:u===!0?-75:-135,v=s,g=p/2-v+a,d.style.webkitTransform="translateX("+g+"px)",d.style.transform="translateX("+g+"px)",-1===this.className.indexOf("active")?(this.className="active instaA",t.preventDefault()):this.className="instaA"}function e(){"true"===l.getAttribute("data-scramble")?(l.setAttribute("data-scramble","false"),u=!1,this.setAttribute("data-scramble","false")):(l.setAttribute("data-scramble","true"),u=!0,this.setAttribute("data-scramble","true"));var t=[].slice.call(document.querySelectorAll(".instaA.active"));t.forEach(function(t){t.className="instaA"})}function n(t){t.preventDefault(),g>100&&setTimeout(function(){d.style.webkitTransform="translateX(0px)",d.style.transform="translateX(0px)",g=0},100)}function i(i){var a=JSON.parse(i);a.data.forEach(function(e){if("image"===e.type||"video"===e.type){null===e.caption&&(e.caption={},e.caption.text="");var n=document.createElement("a");n.innerHTML='<li><img src="'+e.images.low_resolution.url+'"><div class="details"><div class="exit-insta">&times;</div><div class="comments">'+e.comments.count+'</div><div class="caption">'+e.caption.text+'</div><div class="likes">'+e.likes.count+'</div><div><div class="open">View '+e.type+"</div></div></div></li>",n.href=e.link,n.target="_blank",n.className="instaA",n.addEventListener("click",t),l.appendChild(n),f++}});var s=[].slice.call(document.querySelectorAll(".exit-insta"));s.forEach(function(t){t.addEventListener("click",n)}),m.addEventListener("click",e)}function a(){console.log("Error loading posts")}function s(t){var e=JSON.parse(t),n={temp:document.getElementById("temp-outside-f"),description:document.getElementById("weather-desc")},i=e.main.temp,a=e.weather[0].description;n.temp&&(n.temp.innerText=i,n.description.innerText=a)}function o(){console.log("Error loading weather")}function c(){return this.images=[],this.addImages=function(t){var e=this;t&&Array.isArray(t)&&t.forEach(function(t){var n=new Image;n.src=t,e.images.push(n)})},this}function r(){l&&h("/instafeed.php",i,a),h("/weatherfeed.php",s,o),window.onresize=function(){p=window.innerWidth};var t=new c;t.addImages(["/img/rotary_drawing.png","/img/color_blot.jpg","/img/color_samples.jpg","/img/spark.jpg","/img/juiced.jpg","/img/piano.jpg"])}var l=document.getElementById("insta_posts"),d=document.getElementById("insta_posts_container"),m=document.getElementById("shuffle_insta");if(l)var u=l.getAttribute("data-scramble");var f=0,p=window.innerWidth,g=0,v=0,h=function(t,e,n){var i=window.XMLHttpRequest?new XMLHttpRequest:ActiveXObject("Microsoft.XMLHTTP");i.onreadystatechange=function(){if(4===i.readyState&&200===i.status){var t=i.responseText;i.responseText&&"function"==typeof e?e(t):"function"==typeof n&&n()}4===i.readyState&&200!==i.status&&"function"==typeof n&&n()},i.open("GET",t,!0),i.send()};r()}();