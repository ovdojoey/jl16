!function(){"use strict";function e(){var e=location.hash;"#more"===e&&i.toggleSlash(),(""===e||"#home"===e)&&i.reset()}var t=document.getElementById("project-ribbon"),n=document.getElementById("body-img");if(!t)return!1;var i={toggleSlash:function(){t.classList.toggle("slash"),n.classList.add("dim")},reset:function(){t.classList.remove("slash"),n.classList.remove("dim")}};window.addEventListener("hashchange",e,!1),e()}(),function(){"use strict";function e(){var e=location.hash;"#player"===e&&n.open(),(""===e||"#home"===e)&&n.close()}var t=document.getElementById("music-player-modal");document.getElementById("body-img");if(t){var n={open:function(){t.classList.toggle("activate")},close:function(){t.classList.remove("activate")}};window.addEventListener("hashchange",e,!1),e()}}(),function(){"use strict";function e(t){i||(i=t);var s=t-i,o=s/864e5,c=n+o;a.innerText=c,window.requestAnimationFrame(e)}function t(){var t=864e5,i=new Date(1989,4,1),a=new Date;n=Math.abs((i.getTime()-a.getTime())/t),window.requestAnimationFrame(e)}var n,i=null,a=document.getElementById("age-in-days");a&&t()}(),function(){function e(e){var t=[].slice.call(document.querySelectorAll(".instaA.active")),n=this,i=0;t.forEach(function(e){e!==n&&(e.className="instaA",i++)});var a,s=this.getBoundingClientRect().left-g;a=v>s||0===i?-115:u?-75:-135,v=s,g=p/2-v+a,d.style.webkitTransform="translateX("+g+"px)",d.style.transform="translateX("+g+"px)",-1===this.className.indexOf("active")?(this.className="active instaA",e.preventDefault()):this.className="instaA"}function t(){"true"===l.getAttribute("data-scramble")?(l.setAttribute("data-scramble","false"),u=!1,this.setAttribute("data-scramble","false")):(l.setAttribute("data-scramble","true"),u=!0,this.setAttribute("data-scramble","true"));var e=[].slice.call(document.querySelectorAll(".instaA.active"));e.forEach(function(e){e.className="instaA"})}function n(e){e.preventDefault(),g>100&&setTimeout(function(){d.style.webkitTransform="translateX(0px)",d.style.transform="translateX(0px)",g=0},100)}function i(i){var a=JSON.parse(i);a.data.forEach(function(t){if("image"===t.type||"video"===t.type){null===t.caption&&(t.caption={},t.caption.text="");var n=document.createElement("a");n.innerHTML='<li><img src="'+t.images.low_resolution.url+'"><div class="details"><div class="exit-insta">&times;</div><div class="comments">'+t.comments.count+'</div><div class="caption">'+t.caption.text+'</div><div class="likes">'+t.likes.count+'</div><div><div class="open">View '+t.type+"</div></div></div></li>",n.href=t.link,n.target="_blank",n.className="instaA",n.addEventListener("click",e),l.appendChild(n),f++}});var s=[].slice.call(document.querySelectorAll(".exit-insta"));s.forEach(function(e){e.addEventListener("click",n)}),m.addEventListener("click",t)}function a(){console.log("Error loading posts")}function s(e){var t=JSON.parse(e),n={temp:document.getElementById("temp-outside-f"),description:document.getElementById("weather-desc")},i=t.main.temp,a=t.weather[0].description;"sky is clear"===a&&(a="clear skies"),n.temp&&(n.temp.innerText=i,n.description.innerText=a)}function o(){console.log("Error loading weather")}function c(){return this.images=[],this.addImages=function(e){var t=this;e&&Array.isArray(e)&&e.forEach(function(e){var n=new Image;n.src=e,t.images.push(n)})},this}function r(){l&&h("/instafeed.php",i,a),h("/weatherfeed.php",s,o),window.onresize=function(){p=window.innerWidth};var e=new c;e.addImages(["/img/rotary_drawing.png","/img/color_blot.jpg","/img/color_samples.jpg","/img/spark.jpg","/img/juiced.jpg","/img/piano.jpg"])}var l=document.getElementById("insta_posts"),d=document.getElementById("insta_posts_container"),m=document.getElementById("shuffle_insta");if(l)var u=l.getAttribute("data-scramble");var f=0,p=window.innerWidth,g=0,v=0,h=function(e,t,n){var i=window.XMLHttpRequest?new XMLHttpRequest:ActiveXObject("Microsoft.XMLHTTP");i.onreadystatechange=function(){if(4===i.readyState&&200===i.status){var e=i.responseText;i.responseText&&"function"==typeof t?t(e):"function"==typeof n&&n()}4===i.readyState&&200!==i.status&&"function"==typeof n&&n()},i.open("GET",e,!0),i.send()};r()}();