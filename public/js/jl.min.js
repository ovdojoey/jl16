!function(){"use strict";function t(){var t=location.hash;"#more"===t&&a.toggleSlash(),""===t&&a.reset()}var e=document.getElementById("project-ribbon"),n=document.getElementById("body-img"),a={toggleSlash:function(){e.classList.toggle("slash"),n.classList.add("dim")},reset:function(){e.classList.remove("slash"),n.classList.remove("dim")}};window.addEventListener("hashchange",t,!1),t()}(),function(){"use strict";function t(e){a||(a=e);var s=e-a,o=s/864e5,c=n+o;i.innerText=c,window.requestAnimationFrame(t)}function e(){var e=864e5,a=new Date(1989,4,1),i=new Date;n=Math.abs((a.getTime()-i.getTime())/e),window.requestAnimationFrame(t)}var n,a=null,i=document.getElementById("age-in-days");e()}(),function(){function t(t){var e=[].slice.call(document.querySelectorAll(".instaA.active")),n=this,a=0;e.forEach(function(t){t!==n&&(t.className="instaA",a++)});var i,s=this.getBoundingClientRect().left-g;i=p>s||0===a?-115:m===!0?-75:-135,p=s,g=v/2-p+i,d.style.webkitTransform="translateX("+g+"px)",d.style.transform="translateX("+g+"px)",-1===this.className.indexOf("active")?(this.className="active instaA",t.preventDefault()):this.className="instaA"}function e(){"true"===l.getAttribute("data-scramble")?(l.setAttribute("data-scramble","false"),m=!1,this.setAttribute("data-scramble","false")):(l.setAttribute("data-scramble","true"),m=!0,this.setAttribute("data-scramble","true"));var t=[].slice.call(document.querySelectorAll(".instaA.active"));t.forEach(function(t){t.className="instaA"})}function n(t){t.preventDefault(),g>100&&setTimeout(function(){d.style.webkitTransform="translateX(0px)",d.style.transform="translateX(0px)",g=0},100)}function a(a){var i=JSON.parse(a);i.data.forEach(function(e){if("image"===e.type||"video"===e.type){null===e.caption&&(e.caption={},e.caption.text="");var n=document.createElement("a");n.innerHTML='<li><img src="'+e.images.low_resolution.url+'"><div class="details"><div class="exit-insta">&times;</div><div class="comments">'+e.comments.count+'</div><div class="caption">'+e.caption.text+'</div><div class="likes">'+e.likes.count+'</div><div><div class="open">View '+e.type+"</div></div></div></li>",n.href=e.link,n.target="_blank",n.className="instaA",n.addEventListener("click",t),l.appendChild(n),f++}});var s=[].slice.call(document.querySelectorAll(".exit-insta"));s.forEach(function(t){t.addEventListener("click",n)}),u.addEventListener("click",e)}function i(){console.log("Error loading posts")}function s(t){var e=JSON.parse(t);console.log(e)}function o(){console.log("Error loading weather")}function c(){return this.images=[],this.addImages=function(t){var e=this;t&&Array.isArray(t)&&t.forEach(function(t){var n=new Image;n.src=t,e.images.push(n)})},this}function r(){h("instafeed.php",a,i),h("weatherfeed.php",s,o),window.onresize=function(){v=window.innerWidth};var t=new c;t.addImages(["/img/color.jpg","/img/hammer.jpg","/img/spark.jpg","/img/juiced.jpg"])}var l=document.getElementById("insta_posts"),d=document.getElementById("insta_posts_container"),u=document.getElementById("shuffle_insta"),m=l.getAttribute("data-scramble"),f=0,v=window.innerWidth,g=0,p=0,h=function(t,e,n){var a=window.XMLHttpRequest?new XMLHttpRequest:ActiveXObject("Microsoft.XMLHTTP");a.onreadystatechange=function(){if(4===a.readyState&&200===a.status){var t=a.responseText;a.responseText&&"function"==typeof e?e(t):"function"==typeof n&&n()}4===a.readyState&&200!==a.status&&"function"==typeof n&&n()},a.open("GET",t,!0),a.send()};r()}();